https://cloud.tencent.com/developer/article/2352089
https://zhuanlan.zhihu.com/p/335994370
https://zhuanlan.zhihu.com/p/374392832


int a = 10;
int* tmp = &a;
int& tmp = a;  // 完全等价




常见的左值
1、变量(对象)；
2、const 变量(对象)；
3、对指针解引用，*(指针)；
4、数组元素，a[1]；
5、结构体成员、类成员，s.m_a、ps->ma； 


常见的右值
1、函数的非引用返回值。这种返回值位于临时内存单元中，运行到下一条语句时，它们可能不再存在；
2、字面常量（立即数），引号括起的字符串除外(它们有其地址表示)，42、'a'；
3、算术运算符(+、-、*、/、%、正号、负号)的求值结果，1+2；
4、逻辑运算符(&&、||、!)的求值结果，a!=10；
5、关系运算符(>、>=、<、<=、==、!=)的求值结果，a>10 && a<100；
6、当条件运算符的两个表达式都是左值或者能转换成同一种左值类型时，运算的结果是左值；否则运算的结果是右值。


函数的返回值有几种返回方式：
* 通过寄存器返回：没有内存地址，所以是prvalue。比如返回一个int。
* 返回值转出参：调用方直接传递一个内存地址到被调用方，被调用方将返回值直接放到这个内存地址中。调用过程结束之后，这个内存地址存放的就是被调用方的返回值。比如返回一个平凡类型。

C++语言中函数的返回值：
先生成局部变量，然后通过拷贝构造函数来构造返回值。再西沟这个局部变量。


```c++
class Book
{
    public:
    long a,b,c,d,e,f;
    Book():a(100),b(100),c(100){}
};
Book test1()
{
    return Book();
}
```
在编译器实现的时候，根据返回值的大小，决定它放到寄存器里还是内存里，放寄存器里的就是 prvalue，放内存里的就是 xvalue